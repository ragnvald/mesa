# In general - Do not make changes to the configuration file.
# Changes could lead to the program not working as expected.

[DEFAULT]
input_folder_asset              = input/asset
input_folder_geocode            = input/geocode
input_folder_lines              = input/lines
input_folder_atlas              = input/atlas
input_folder_evaluate_landuse   = input/evaluate_landuse
input_folder_images             = input/images
output_folder                   = output/
gpkg_file = output/mesa.gpkg

mesa_version                    = MESA version 5.0 beta 2025-12-15

chunk_size                      = 20000
cell_size                       = 9000

# method available methods is currently gpu only
method                          = gpu
max_workers                     = 0
h3_max_cells                    = 20000000
mosaic_force_serial             = auto

# Themes: cosmo, flatly, journal, litera, lumen, minty, pulse,
# sandstone, united, yeti, morph, simplex, cerculan, solar, superhero, darkly, cyborg, vapor
ttk_bootstrap_theme             = litera

# OpenAI-key used for intellingent processing
openai_api_key_file             = secrets/openai.key

# Asset lines and points minimum buffer as we do not relate to arealess features.
default_line_buffer_m           = 10
default_point_buffer_m          = 10

# MBtileset zoom levels. This defines the zoom levels for which tiles will be 
# generated. The higher the zoom level, the more detailed the tiles will be, but
# also the larger the file size. Processing time and storage requirements will
# increase with higher zoom levels.
tiles_minzoom                   = 6
tiles_maxzoom                   = 20

# Performance knobs
# These settings influence speed, memory use, and how often the UI/log gets updates
# during heavy processing (intersections, tiling, etc.).
#
# Notes:
# - Smaller limits typically reduce peak memory, but can increase overhead and runtime.
# - More frequent progress/heartbeat updates can make the UI feel more responsive, but
#   may slow processing slightly.
# - If you are unsure: keep defaults.
#
# Update progress/UI every N tiles (smaller = more updates, slightly slower)
tiles_progress_every            = 1000

# If a chunk contains more than this many geocodes, processing will split work to keep memory stable
geocode_soft_limit              = 400

# If a chunk contains more than this many assets, processing will split work to keep memory stable
asset_soft_limit                = 50000

# Estimated RAM use per worker (GB). Higher value => fewer workers chosen when max_workers=0
approx_gb_per_worker            = 5.0

# Fraction of available RAM to treat as usable budget when auto-sizing work (0.0-1.0)
mem_target_frac                 = 0.95

# Seconds between “still working” pings in long-running operations (smaller = more frequent logs)
heartbeat_secs                  = 60

# Basemap provider for report maps:
# - xyz (default): Use MESA's built-in OSM XYZ downloader with persistent cache under output/tile_cache
# - contextily: Use contextily (if installed); no tiles stored under output/tile_cache
# - auto: Prefer contextily, fall back to xyz
report_basemap_mode             = xyz

atlas_lon_size_km               = 100
atlas_lat_size_km               = 100
atlas_overlap_percent           = 10

segment_width                   = 600
segment_length                  = 1000

area_projection_epsg            = 3035
workingprojection_epsg          = 4326
output_projection_epsg          = 4326

output_png                      = output/map_visualization.png

[A]
range                           = 21-25
description                     = Very high
category_colour                 = #bd0026

[B]
range                           = 16-20
description                     = High
category_colour                 = #f03b20

[C]
range                           = 11-15
description                     = Moderate
category_colour                 = #fd8d3c

[D]
range                           = 6-10
description                     = Low
category_colour                 = #fecc5c

[E]
range                           = 1-5
description                     = Very low
category_colour                 = #ffffb2

[VALID_VALUES]
valid_input                     = 1,2,3,4,5
category_colour_unknown         = #BDBDBD
index_importance_weights        = 1,2,5,5,10
index_sensitivity_weights       = 10,10,10,10,10,10,10,10,10,10,10,10,10,10
